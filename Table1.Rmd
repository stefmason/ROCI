---
title: "Table1"
author: "S. Mason"
date: "10/4/2018"
output: 
  html_document:
    code_folding: hide
    toc: True
    toc_depth: 2
    toc_floating: true
    theme: flatly
---

```{r setup, echo=FALSE, message=FALSE}
library(readxl)
library(dplyr)
library (ggplot2)
library(table1)
```
```{r load data, message=FALSE, echo=FALSE}
#Load outcomes data
outcomes <- read_excel("~/Documents/ROCIanalysis/ROCI_101918.xlsx", sheet = "Outcomes", col_types = c("numeric", "skip", "numeric", "numeric", "numeric", "numeric", "text", "numeric", "numeric", "numeric", "numeric", "numeric", "date", "date", "numeric", "numeric", "date", "date",  "numeric", "date", "date", "numeric", "text", "numeric", "text", "numeric", "numeric", "date", "numeric", "numeric", "text", "numeric", "text", "text"))
#Load imaging/score data
images <- read_excel("~/Documents/ROCIanalysis/ROCI_101918.xlsx", sheet = "Imaging", col_types = c("numeric", "skip", "skip", "skip", "skip", "numeric", "skip", "skip", "skip", "skip", "skip", "skip", "skip", "skip", "numeric", "skip", "skip"))
```
```{r}
#Creates one dataset of outcomes and scores for subjects with a CXR from MICU admit
demos <- images %>% filter(admit_cxr == 1) %>% left_join(outcomes, by="Subject_ID") %>% filter(Final_Dx != "Control")
```
```{r}
#Numerics to factor
demos$Male <- as.factor(demos$Male)
demos$non_white <- as.factor(demos$non_white)
demos$Immsupp <- as.factor(demos$Immsupp)
demos$hosp_death <- as.factor(demos$hosp_death)
demos$mort28d <- as.factor(demos$mort28d)
demos$mort60d <- as.factor(demos$mort60d)

colnames(demos)
```

```{r}
labels <- list(variables=())
```

